function MaterialDatepicker(e){function t(){null!=n.resizeTimer&&clearTimeout(n.resizeTimer),n.resizeTimer=setTimeout(function(){console.log("done resizing...");var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);490>e?(n.options.orientation="portrait",n.destroy(),n.init(),n.isVisible&&(n.isVisible=!1,n.originalOpts.initialDate=n.selectedDate,n.show(n.originalOpts))):(n.options.orientation=n.originalOrientation,n.destroy(),n.init(),n.isVisible&&(n.isVisible=!1,n.originalOpts.initialDate=n.selectedDate,n.show(n.originalOpts)));var t=n.currentHeaderDate;t&&null!=t||(t=n.initialDate);var a=n.shortDayName[t.getDay()],i=n.monthName[t.getMonth()];n.yearLabel.innerHTML=t.getFullYear();var r=t.getDate(),l="";"portrait"!=n.options.orientation&&(l="<br />"),n.dateLabel.innerHTML=a+","+l+" "+i+" "+r},250)}var a={orientation:"landscape",debugMode:!1,closeOnBlur:!0,responsive:!1};this.eventBeforeShow="md.before.show",this.eventAfterShow="md.after.show",this.eventBeforeHide="md.before.hide",this.eventAfterHide="md.after.hide",this.eventBeforeCancel="md.before.cancel",this.eventAfterCancel="md.after.cancel",this.initialDayName=["S","M","T","W","T","F","S"],this.shortDayName=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.monthName=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.longMonthName=["January","February","March","April","May","June","July","August","September","October","November","December"],this.initialDate=new Date,this.isVisible=!1,this.calendarYearHeader=null,this.calendarDateHolder=null,this.overlay=null,this.events=[],this.currentActiveView="date",this.linkItemPrefixId=this.generateRandomId(),this.onDateSelectedCallback=null,this.options=a.extend(e),this.originalOrientation=this.options.orientation;var i=this.options.responsive;this.init();var n=this;i&&(window.onresize=t,t()),this.resizeTimer=null}MaterialDatepicker.prototype.constructor=MaterialDatepicker,Object.prototype.extend=function(e){for(var t in e)this[t]=e[t];return this},MaterialDatepicker.prototype.executeEvent=function(e){var t=null;if(this.events&&null!=this.events&&this.events.length>0)for(var a=0;a<this.events.length;a++){var i=this.events[a],n=i.name;e&&null!=e&&""!=e&&e==n&&(t=i.callback)}null!=t&&t(this)},MaterialDatepicker.prototype.destroy=function(){function e(e){for(;e.hasChildNodes();)t(e.firstChild);null!=e.parentNode&&e.parentNode.removeChild(e),e=null}function t(e){for(;e.hasChildNodes();)t(e.firstChild);null!=e.parentNode&&e.parentNode.removeChild(e),e=null}var a=(document.body,this.overlay);e(a)},MaterialDatepicker.prototype.generateRandomId=function(){function e(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;5>a;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function t(){return Math.floor(99999*Math.random()+1e4)}var a="material_datepicker_item_"+e()+"_"+t()+"_";return a},MaterialDatepicker.prototype.on=function(e,t){this.events.push({name:e,callback:t})},MaterialDatepicker.prototype.init=function(){this.log("Initializing material datepicker..."),this.draw()},MaterialDatepicker.prototype.draw=function(){function e(){var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div");t.className="portrait_content",e.className="portrait_header";var d=document.createElement("div"),p=document.createElement("div");d.className="year",p.className="date",d.onclick=function(){d.className="year datepicker_label_active",p.className="date",i.style.display="none",l.style.display="block";var e=s.initialDate.getFullYear();e-=3;var t=document.getElementById(s.linkItemPrefixId+e);t&&null!=t&&t.scrollIntoView(),s.currentActiveView="year"},p.onclick=function(){d.className="year",p.className="date datepicker_label_active",i.style.display="block",l.style.display="none",s.currentActiveView="date"},e.appendChild(d),e.appendChild(p),s.dateLabel=p,s.yearLabel=d;var m=document.createElement("div"),h=document.createElement("div"),u=document.createElement("div"),v=document.createElement("div"),f=document.createElement("div");m.className="date_view_year_section",h.className="year_section_left_arrow",v.className="year_section_right_arrow",u.className="date_view_year_label",f.className="date_view_year_label_container",u.appendChild(f),s.calendarYearHeader=f,h.appendChild(n()),v.appendChild(r()),m.appendChild(h),m.appendChild(u),m.appendChild(v),i.appendChild(m);var y=document.createElement("div"),k=s.initialDayName;y.className="datepicker_calendar";for(var b=0;b<k.length;b++){var N=document.createElement("span");N.className="day_header_label",N.innerHTML=k[b],y.appendChild(N)}var C=document.createElement("div");C.className="clearfix",y.appendChild(C),i.appendChild(y);var g=document.createElement("div");s.calendarDateHolder=g,y.appendChild(g),l.appendChild(a()),t.appendChild(l),t.appendChild(i);var E=document.createElement("div");E.className="action";var D=document.createElement("button");D.innerHTML="CANCEL",D.className="datepicker-btn datepicker-btn-link ripple",D.onclick=function(){c()},E.appendChild(D);var M=document.createElement("button");M.innerHTML="OK",M.className="datepicker-btn datepicker-btn-link ripple",M.onclick=function(){o()},E.appendChild(M),t.appendChild(E),_.appendChild(e),_.appendChild(t)}function t(){var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div");i.style.display="none",l.style.display="none",e.className="landscape_header",t.className="landscape_content";var d=document.createElement("div"),p=document.createElement("div"),m=document.createElement("div");p.className="year datepicker_label_inactive",m.className="date datepicker_label_inactive",d.className="landscape_header_content",p.onclick=function(){p.className="year datepicker_label_active",m.className="date datepicker_label_inactive",i.style.display="none",l.style.display="block";var e=s.initialDate.getFullYear();e-=3;var t=document.getElementById(s.linkItemPrefixId+e);t&&null!=t&&t.scrollIntoView(),s.currentActiveView="year"},m.onclick=function(){p.className="year datepicker_label_inactive",m.className="date datepicker_label_active",i.style.display="block",l.style.display="none",s.currentActiveView="date"},s.dateLabel=m,s.yearLabel=p,d.appendChild(p),d.appendChild(m),e.appendChild(d),_.appendChild(e);var h=document.createElement("div"),u=document.createElement("div"),v=document.createElement("div"),f=document.createElement("div"),y=document.createElement("div");h.className="date_view_year_section",u.className="year_section_left_arrow",f.className="year_section_right_arrow",v.className="date_view_year_label",y.className="date_view_year_label_container",v.appendChild(y),s.calendarYearHeader=y,u.appendChild(n()),f.appendChild(r()),h.appendChild(u),h.appendChild(v),h.appendChild(f),i.appendChild(h);var k=document.createElement("div"),b=s.initialDayName;k.className="datepicker_calendar";for(var N=0;N<b.length;N++){var C=document.createElement("span");C.className="day_header_label",C.innerHTML=b[N],k.appendChild(C)}var g=document.createElement("div");g.className="clearfix",k.appendChild(g),i.appendChild(k);var E=document.createElement("div");s.calendarDateHolder=E,k.appendChild(E),l.appendChild(a()),t.appendChild(i),t.appendChild(l);var D=document.createElement("div");D.className="action";var M=document.createElement("button");M.innerHTML="CANCEL",M.className="datepicker-btn datepicker-btn-link ripple",M.onclick=function(){c()},D.appendChild(M);var w=document.createElement("button");w.innerHTML="OK",w.className="datepicker-btn datepicker-btn-link ripple",w.onclick=function(){o()},D.appendChild(w),t.appendChild(D),_.appendChild(t)}function a(){var e=document.createElement("div");e.className="landscape_year_view";var t=document.createElement("ul");t.style["padding-left"]="0";for(var a=1900,n=2100,r=s.initialDate.getFullYear(),l=a;n>=l;l++){var d=document.createElement("li");d.style["list-style-type"]="none";var c=document.createElement("a");c.href="#",c.setAttribute("data-year",l),c.setAttribute("id",s.linkItemPrefixId+l),c.innerHTML=l,d.appendChild(c);var o="";r==l&&(o="active"),d.className="year_list_item "+o,t.appendChild(d),c.onclick=i}return e.appendChild(t),e}function i(){var e=this.parentElement,t=e.parentElement,a=this.getAttribute("data-year"),i=t.childNodes;if(i&&null!=i&&i.length>0)for(var n=0;n<i.length;n++)i[n].className="year_list_item";e.className="year_list_item active";var r=s.initialDate,l=s.selectedDate;r.setFullYear(a),l.setFullYear(a),s.renderCalendar(r,l),s.populateHeaderContent(l)}function n(){var e=document.createElement("a"),t=document.createElement("i");return e.href="#",e.className="datepicker-btn datepicker-btn-link arrow_ripple arrow_button",e.style.padding="0",t.className="fa fa-angle-left",t.style["font-weight"]="700",e.appendChild(t),e.onclick=d,e}function r(){var e=document.createElement("button"),t=document.createElement("i");return e.href="#",e.className="datepicker-btn datepicker-btn-link arrow_ripple arrow_button",e.style.padding="0",t.className="fa fa-angle-right",t.style["font-weight"]="700",e.appendChild(t),e.onclick=l,e}function l(){var e=s.initialDate;e.setDate(1),e.setMonth(e.getMonth()+1),s.renderCalendar(e,s.selectedDate)}function d(){var e=s.initialDate;e.setDate(1),e.setMonth(e.getMonth()-1),s.renderCalendar(e,s.selectedDate)}function c(){s.executeEvent(s.eventBeforeCancel),s.hide(),s.executeEvent(s.eventAfterCancel)}function o(){var e=s.onDateSelectedCallback;e&&e(s.selectedDate),s.hide()}var s=this,p=document.body,m=!1,h=document.createElement("div"),u=this.options.orientation,v=null,_=document.createElement("div");"landscape"==u?(v="datepicker_landscape",t()):(v="datepicker_potrait",e()),_.className="material_datepicker_container material_datepicker_hide "+v,h.className="material_datepicker_overlay material_datepicker_overlay_hide",h.appendChild(_),p.appendChild(h),_.onclick=function(e){return m=!0,e.preventDefault(),!1},this.options.closeOnBlur&&(h.onclick=function(){m||s.hide(),m=!1}),this.orientationClass=v,this.overlay=h,this.datepicker=_},MaterialDatepicker.prototype.log=function(e){this.options.debugMode&&console.log(e)},MaterialDatepicker.prototype.printOptions=function(){for(var e in this.options)this.log(e+" => "+this.options[e])},MaterialDatepicker.prototype.renderCalendar=function(e,t){function a(e){var t=this.getAttribute("data-is-active");if("true"!=t){var a=this,i=n.selectedBlock;if(null!=i){var r=i.getElementsByClassName("date_block_selected"),l=i.getElementsByClassName("hover_text_handler");r[0].className="hover_handler date_block_hover_out",l[0].style.color="rgba(0,0,0,1)",i.className="date_block date_block_cursor_inactive",i.setAttribute("data-is-active","false")}a.setAttribute("data-is-active","true"),a.className="date_block date_block_cursor_active";var d=a.getElementsByClassName("hover_handler"),c=a.getElementsByClassName("hover_text_handler");d[0].className="date_block_selected",c[0].style.color="#FFF",n.selectedBlock=a;var o=new Date(a.getAttribute("data-full-year"),a.getAttribute("data-month"),a.getAttribute("data-date"));n.populateHeaderContent(o),n.selectedDate=o}}function i(e,t){return new Date(t,e+1,0).getDate()}var n=this,r=n.longMonthName[e.getMonth()];this.calendarYearHeader&&(this.calendarYearHeader.innerHTML=r+" "+e.getFullYear());var l=n.calendarDateHolder;l&&(l.innerHTML="");var d=e.getMonth(),c=e.getFullYear(),o=null;if("undefined"!=typeof t&&null!=t){var s=t.getMonth(),p=t.getFullYear();d==s&&c==p&&(o=t.getDate())}this.initialDate=e;for(var m=new Date(c,d,1),h=i(d,c),u=(h+m.getDay(),0);u<m.getDay();u++){var v=document.createElement("span");v.className="date_block",l&&l.appendChild(v)}for(var u=1;h>=u;u++){var v=document.createElement("span"),_="#000",f="date_block_cursor_inactive";if(v.setAttribute("data-is-active","false"),v.setAttribute("data-full-year",c),v.setAttribute("data-month",d),v.setAttribute("data-date",u),null!=o&&o==u){var y=document.createElement("span");y.className="date_block_selected",v.appendChild(y),v.setAttribute("data-is-active","true"),_="#FFF",f="date_block_cursor_active",n.selectedBlock=v;var k=new Date(c,d,u);n.selectedDate=k}var b=document.createElement("span");b.className="hover_handler date_block_hover_out",v.appendChild(b),v.onmouseover=function(){var e=this.getAttribute("data-is-active");if("true"!=e){var t=this.getElementsByClassName("hover_handler"),a=this.getElementsByClassName("hover_text_handler");t[0]&&a[0]&&(t[0].className="hover_handler date_block_hover_in",a[0].style.color="#fff")}},v.onmouseout=function(){var e=this.getAttribute("data-is-active");if("true"!=e){var t=this.getElementsByClassName("hover_handler"),a=this.getElementsByClassName("hover_text_handler");t[0]&&a[0]&&(t[0].className="hover_handler date_block_hover_out",a[0].style.color="#000")}},v.onclick=a;var N=document.createElement("span");N.style.position="relative",N.style.color=_,N.className="hover_text_handler",N.innerHTML=u,v.appendChild(N),v.className="date_block "+f,l&&l.appendChild(v)}},MaterialDatepicker.prototype.populateHeaderContent=function(e){function t(){a.currentHeaderDate=e,a.yearLabel.innerHTML=e.getFullYear();var t="";"portrait"!=a.options.orientation&&(t="<br />"),a.dateLabel.innerHTML=i+","+t+" "+n+" "+r}var a=this,i=a.shortDayName[e.getDay()],n=a.monthName[e.getMonth()],r=e.getDate(),l=a.currentHeaderDate,d=a.dateLabel,c=a.currentActiveView,o="datepicker_label_inactive";if("date"==c&&(o="datepicker_label_active"),l&&null!=l){l.getFullYear(),e.getFullYear();if(l>e){d.className="date "+o+" date_hide_down";var s=a.whichTransitionEvent();s&&d.addEventListener(s,function(){d.className="date "+o+" date_show_up",t()})}else{d.className="date "+o+" date_hide_up";var s=a.whichTransitionEvent();s&&d.addEventListener(s,function(){d.className="date "+o+" date_show_down",t()})}}else t()},MaterialDatepicker.prototype.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(void 0!==t.style[e])return a[e]},MaterialDatepicker.prototype.renderContent=function(){function e(){return t.initialDate}var t=this,a=e();this.populateHeaderContent(a),this.renderCalendar(a,a)},MaterialDatepicker.prototype.hide=function(){if(this.isVisible){var e=this;e.log("Hiding datepicker..."),e.executeEvent(e.eventBeforeHide),e.datepicker.className="material_datepicker_container "+e.orientationClass+" material_datepicker_hide";var t=function(){e.overlay.className="material_datepicker_overlay material_datepicker_overlay_hide",e.datepicker.removeEventListener("transitionend",t),e.executeEvent(e.eventAfterHide)};e.datepicker.addEventListener("transitionend",t,!1),e.isVisible=!1}},MaterialDatepicker.prototype.isValidDate=function(e){var t=!1;return t="[object Date]"===Object.prototype.toString.call(e)?isNaN(e.getTime())?!1:!0:!1},MaterialDatepicker.prototype.show=function(e){if(!this.isVisible){if(this.log("Showing datepicker..."),this.executeEvent(this.eventBeforeShow),e&&null!=e){var t=e.onDateSelected,a=e.initialDate;t&&(this.onDateSelectedCallback=t),a&&null!=a&&this.isValidDate(a)&&(this.initialDate=a)}this.originalOpts=e,this.renderContent(),this.dateLabel.click(),this.overlay.className="material_datepicker_overlay material_datepicker_overlay_show",this.datepicker.className="material_datepicker_container "+this.orientationClass+" material_datepicker_show",this.isVisible=!0,this.executeEvent(this.eventAfterShow)}};