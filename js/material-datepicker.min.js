function MaterialDatepicker(e){var t={orientation:"landscape",debugMode:!1,closeOnBlur:!0};this.eventBeforeShow="md.before.show",this.eventAfterShow="md.after.show",this.eventBeforeHide="md.before.hide",this.eventAfterHide="md.after.hide",this.eventBeforeCancel="md.before.cancel",this.eventAfterCancel="md.after.cancel",this.initialDayName=["S","M","T","W","T","F","S"],this.shortDayName=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.monthName=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.longMonthName=["January","February","March","April","May","June","July","August","September","October","November","December"],this.initialDate=new Date,this.isVisible=!1,this.calendarYearHeader=null,this.calendarDateHolder=null,this.overlay=null,this.events=[],this.currentActiveView="date",this.linkItemPrefixId=this.generateRandomId(),this.onDateSelectedCallback=null,this.options=t.extend(e),this.init()}MaterialDatepicker.prototype.constructor=MaterialDatepicker,Object.prototype.extend=function(e){for(var t in e)this[t]=e[t];return this},MaterialDatepicker.prototype.executeEvent=function(e){var t=null;if(this.events&&null!=this.events&&this.events.length>0)for(var a=0;a<this.events.length;a++){var n=this.events[a],i=n.name;e&&null!=e&&""!=e&&e==i&&(t=n.callback)}null!=t&&t(this)},MaterialDatepicker.prototype.generateRandomId=function(){function e(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;5>a;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function t(){return Math.floor(99999*Math.random()+1e4)}var a="material_datepicker_item_"+e()+"_"+t()+"_";return a},MaterialDatepicker.prototype.on=function(e,t){this.events.push({name:e,callback:t})},MaterialDatepicker.prototype.init=function(){this.log("Initializing material datepicker..."),this.draw()},MaterialDatepicker.prototype.draw=function(){function e(){var e=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div");r.style.display="none",l.style.display="none",e.className="landscape_header",a.className="landscape_content";var s=document.createElement("div"),p=document.createElement("div"),h=document.createElement("div");p.className="year datepicker_label_inactive",h.className="date datepicker_label_inactive",s.className="landscape_header_content",p.onclick=function(){p.className="year datepicker_label_active",h.className="date datepicker_label_inactive",r.style.display="none",l.style.display="block";var e=d.initialDate.getFullYear();e-=3;var t=document.getElementById(d.linkItemPrefixId+e);t&&null!=t&&t.scrollIntoView(),d.currentActiveView="year"},h.onclick=function(){p.className="year datepicker_label_inactive",h.className="date datepicker_label_active",r.style.display="block",l.style.display="none",d.currentActiveView="date"},d.dateLabel=h,d.yearLabel=p,s.appendChild(p),s.appendChild(h),e.appendChild(s),v.appendChild(e);var u=document.createElement("div"),m=document.createElement("div"),_=document.createElement("div"),f=document.createElement("div"),k=document.createElement("div");u.className="date_view_year_section",m.className="year_section_left_arrow",f.className="year_section_right_arrow",_.className="date_view_year_label",k.className="date_view_year_label_container",_.appendChild(k),d.calendarYearHeader=k,m.appendChild(n()),f.appendChild(i()),u.appendChild(m),u.appendChild(_),u.appendChild(f),r.appendChild(u);var y=document.createElement("div"),b=d.initialDayName;y.className="datepicker_calendar";for(var N=0;N<b.length;N++){var g=document.createElement("span");g.className="day_header_label",g.innerHTML=b[N],y.appendChild(g)}var C=document.createElement("div");C.className="clearfix",y.appendChild(C),r.appendChild(y);var D=document.createElement("div");d.calendarDateHolder=D,y.appendChild(D),l.appendChild(t()),a.appendChild(r),a.appendChild(l);var E=document.createElement("div");E.className="action";var M=document.createElement("button");M.innerHTML="CANCEL",M.className="datepicker-btn datepicker-btn-link ripple",M.onclick=function(){c()},E.appendChild(M);var w=document.createElement("button");w.innerHTML="OK",w.className="datepicker-btn datepicker-btn-link ripple",w.onclick=function(){o()},E.appendChild(w),a.appendChild(E),v.appendChild(a)}function t(){var e=document.createElement("div");e.className="landscape_year_view";for(var t=document.createElement("ul"),n=1900,i=2100,r=d.initialDate.getFullYear(),l=n;i>=l;l++){var c=document.createElement("li");c.style["list-style-type"]="none";var o=document.createElement("a");o.href="#",o.setAttribute("data-year",l),o.setAttribute("id",d.linkItemPrefixId+l),o.innerHTML=l,c.appendChild(o);var s="";r==l&&(s="active"),c.className="year_list_item "+s,t.appendChild(c),o.onclick=a}return e.appendChild(t),e}function a(){var e=this.parentElement,t=e.parentElement,a=this.getAttribute("data-year"),n=t.childNodes;if(n&&null!=n&&n.length>0)for(var i=0;i<n.length;i++)n[i].className="year_list_item";e.className="year_list_item active";var r=d.initialDate,l=d.selectedDate;r.setFullYear(a),l.setFullYear(a),d.renderCalendar(r,l),d.populateHeaderContent(l)}function n(){var e=document.createElement("a"),t=document.createElement("i");return e.href="#",e.className="datepicker-btn datepicker-btn-link arrow_ripple arrow_button",e.style.padding="0",t.className="fa fa-angle-left",t.style["font-weight"]="700",e.appendChild(t),e.onclick=l,e}function i(){var e=document.createElement("button"),t=document.createElement("i");return e.href="#",e.className="datepicker-btn datepicker-btn-link arrow_ripple arrow_button",e.style.padding="0",t.className="fa fa-angle-right",t.style["font-weight"]="700",e.appendChild(t),e.onclick=r,e}function r(){var e=d.initialDate;e.setDate(1),e.setMonth(e.getMonth()+1),d.renderCalendar(e,d.selectedDate)}function l(){var e=d.initialDate;e.setDate(1),e.setMonth(e.getMonth()-1),d.renderCalendar(e,d.selectedDate)}function c(){d.executeEvent(d.eventBeforeCancel),d.hide(),d.executeEvent(d.eventAfterCancel)}function o(){var e=d.onDateSelectedCallback;e&&e(d.selectedDate),d.hide()}var d=this,s=document.body,p=!1,h=document.createElement("div"),u=this.options.orientation,m=null,v=document.createElement("div");"landscape"==u?(m="datepicker_landscape",e()):m="datepicker_potrait",v.className="material_datepicker_container material_datepicker_hide "+m,h.className="material_datepicker_overlay material_datepicker_overlay_hide",h.appendChild(v),s.appendChild(h),v.onclick=function(e){return p=!0,e.preventDefault(),!1},this.options.closeOnBlur&&(h.onclick=function(){p||d.hide(),p=!1}),this.orientationClass=m,this.overlay=h,this.datepicker=v},MaterialDatepicker.prototype.log=function(e){this.options.debugMode&&console.log(e)},MaterialDatepicker.prototype.printOptions=function(){for(var e in this.options)this.log(e+" => "+this.options[e])},MaterialDatepicker.prototype.renderCalendar=function(e,t){function a(e){var t=this.getAttribute("data-is-active");if("true"!=t){var a=this,n=i.selectedBlock;if(null!=n){var r=n.getElementsByClassName("date_block_selected"),l=n.getElementsByClassName("hover_text_handler");r[0].className="hover_handler date_block_hover_out",l[0].style.color="rgba(0,0,0,1)",n.className="date_block date_block_cursor_inactive",n.setAttribute("data-is-active","false")}a.setAttribute("data-is-active","true"),a.className="date_block date_block_cursor_active";var c=a.getElementsByClassName("hover_handler"),o=a.getElementsByClassName("hover_text_handler");c[0].className="date_block_selected",o[0].style.color="#FFF",i.selectedBlock=a;var d=new Date(a.getAttribute("data-full-year"),a.getAttribute("data-month"),a.getAttribute("data-date"));i.populateHeaderContent(d),i.selectedDate=d}}function n(e,t){return new Date(t,e+1,0).getDate()}var i=this,r=i.longMonthName[e.getMonth()];this.calendarYearHeader.innerHTML=r+" "+e.getFullYear();var l=i.calendarDateHolder;l.innerHTML="";var c=e.getMonth(),o=e.getFullYear(),d=null;if("undefined"!=typeof t&&null!=t){var s=t.getMonth(),p=t.getFullYear();c==s&&o==p&&(d=t.getDate())}this.initialDate=e;for(var h=new Date(o,c,1),u=n(c,o),m=(u+h.getDay(),0);m<h.getDay();m++){var v=document.createElement("span");v.className="date_block",l.appendChild(v)}for(var m=1;u>=m;m++){var v=document.createElement("span"),_="#000",f="date_block_cursor_inactive";if(v.setAttribute("data-is-active","false"),v.setAttribute("data-full-year",o),v.setAttribute("data-month",c),v.setAttribute("data-date",m),null!=d&&d==m){var k=document.createElement("span");k.className="date_block_selected",v.appendChild(k),v.setAttribute("data-is-active","true"),_="#FFF",f="date_block_cursor_active",i.selectedBlock=v;var y=new Date(o,c,m);i.selectedDate=y}var b=document.createElement("span");b.className="hover_handler date_block_hover_out",v.appendChild(b),v.onmouseover=function(){var e=this.getAttribute("data-is-active");if("true"!=e){var t=this.getElementsByClassName("hover_handler"),a=this.getElementsByClassName("hover_text_handler");t[0]&&a[0]&&(t[0].className="hover_handler date_block_hover_in",a[0].style.color="#fff")}},v.onmouseout=function(){var e=this.getAttribute("data-is-active");if("true"!=e){var t=this.getElementsByClassName("hover_handler"),a=this.getElementsByClassName("hover_text_handler");t[0]&&a[0]&&(t[0].className="hover_handler date_block_hover_out",a[0].style.color="#000")}},v.onclick=a;var N=document.createElement("span");N.style.position="relative",N.style.color=_,N.className="hover_text_handler",N.innerHTML=m,v.appendChild(N),v.className="date_block "+f,l.appendChild(v)}},MaterialDatepicker.prototype.populateHeaderContent=function(e){function t(){a.currentHeaderDate=e,a.yearLabel.innerHTML=e.getFullYear(),a.dateLabel.innerHTML=n+",<br /> "+i+" "+r}var a=this,n=a.shortDayName[e.getDay()],i=a.monthName[e.getMonth()],r=e.getDate(),l=a.currentHeaderDate,c=a.dateLabel,o=a.currentActiveView,d="datepicker_label_inactive";if("date"==o&&(d="datepicker_label_active"),l&&null!=l){l.getFullYear(),e.getFullYear();if(l>e){c.className="date "+d+" date_hide_down";var s=a.whichTransitionEvent();s&&c.addEventListener(s,function(){c.className="date "+d+" date_show_up",t()})}else{c.className="date "+d+" date_hide_up";var s=a.whichTransitionEvent();s&&c.addEventListener(s,function(){c.className="date "+d+" date_show_down",t()})}}else t()},MaterialDatepicker.prototype.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(void 0!==t.style[e])return a[e]},MaterialDatepicker.prototype.renderContent=function(){function e(){return t.initialDate}var t=this,a=e();this.populateHeaderContent(a),this.renderCalendar(a,a)},MaterialDatepicker.prototype.hide=function(){if(this.isVisible){var e=this;e.log("Hiding datepicker..."),e.executeEvent(e.eventBeforeHide),e.datepicker.className="material_datepicker_container "+e.orientationClass+" material_datepicker_hide";var t=function(){e.overlay.className="material_datepicker_overlay material_datepicker_overlay_hide",e.datepicker.removeEventListener("transitionend",t),e.executeEvent(e.eventAfterHide)};e.datepicker.addEventListener("transitionend",t,!1),e.isVisible=!1}},MaterialDatepicker.prototype.isValidDate=function(e){var t=!1;return t="[object Date]"===Object.prototype.toString.call(e)?isNaN(e.getTime())?!1:!0:!1},MaterialDatepicker.prototype.show=function(e){if(!this.isVisible){if(this.log("Showing datepicker..."),this.executeEvent(this.eventBeforeShow),e&&null!=e){var t=e.onDateSelected,a=e.initialDate;t&&(this.onDateSelectedCallback=t),a&&null!=a&&this.isValidDate(a)&&(this.initialDate=a)}this.renderContent(),this.dateLabel.click(),this.overlay.className="material_datepicker_overlay material_datepicker_overlay_show",this.datepicker.className="material_datepicker_container "+this.orientationClass+" material_datepicker_show",this.isVisible=!0,this.executeEvent(this.eventAfterShow)}};